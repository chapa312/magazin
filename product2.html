<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Кофта 2 — Просто вещи</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; color: #333; }
    .container { display: flex; max-width: 1000px; margin: 0 auto; background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .image-col, .info-col { padding: 20px; }
    .image-col { flex: 1; background: #fafafa; display: flex; align-items: center; justify-content: center; position: relative; }
    .image-col img { max-width: 100%; max-height: 600px; object-fit: contain; }
    .nav-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      color: #555;
      border: none;
      cursor: pointer;
      font-size: 24px;
      padding: 8px;
      transition: color 0.3s;
    }
    .nav-arrow:hover { color: #000; }
    .nav-arrow.left { left: 10px; }
    .nav-arrow.right { right: 10px; }
    .info-col { flex: 1; display: flex; flex-direction: column; }
    .sku { font-size: 14px; color: #888; margin-bottom: 8px; }
    .price { font-size: 32px; font-weight: bold; margin: 4px 0 12px; }
    .option-group { margin-bottom: 20px; }
    .option-group label { display: block; font-size: 14px; color: #555; margin-bottom: 6px; }
    .option-group select { width: 100%; padding: 10px; font-size: 16px; border: 1px solid #ccc; border-radius: 8px; }
    .btn-buy { margin: 20px 0; padding: 14px; background: #000; color: #fff; font-size: 16px; font-weight: bold; border: none; border-radius: 8px; cursor: pointer; transition: background 0.3s; }
    .btn-buy:hover { background: #333; }
    .details { margin-top: 30px; flex-grow: 1; }
    .details .detail-item { font-size: 16px; margin-bottom: 6px; }
    .description { margin: 20px 0; line-height: 1.5; font-size: 15px; color: #555; }
    .description ul { padding-left: 20px; list-style: disc; margin: 10px 0; }
    .weight { font-size: 14px; color: #888; margin-top: auto; }
    .cart { position: fixed; bottom: 80px; right: 20px; background: #fff; padding: 15px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); text-align: center; cursor: pointer; }
    .cart h2 { margin: 10px 0; font-size: 16px; color: #333; }
    .cart ul { list-style: none; margin: 0; padding: 0; max-height: 200px; overflow-y: auto; }
    .cart li { margin-bottom: 5px; font-size: 14px; color: #555; }
    .checkout-btn { position: fixed; bottom: 20px; right: 20px; padding: 12px 20px; font-size: 16px; border: none; border-radius: 8px; background: #007bff; color: #fff; cursor: pointer; transition: background 0.3s; }
    .checkout-btn:hover { background: #0056b3; }
  </style>
</head>
<body>
  <div class="container">
    <div class="image-col">
      <img id="productImage2" src="img/kofta2.jpeg" alt="Кофта 2">
      <button class="nav-arrow left" id="prevBtn2"><</button>
      <button class="nav-arrow right" id="nextBtn2">></button>
    </div>
    <div class="info-col">
      <div class="sku">Артикул: HODI-002</div>
      <div class="price">2 500 ₽</div>
      <div class="option-group">
        <label for="sizeSelect2">Размер</label>
        <select id="sizeSelect2">
          <option>S</option>
          <option>M</option>
          <option>L</option>
          <option>XL</option>
        </select>
      </div>
      <button class="btn-buy" id="buyBtn2">Купить</button>
      <div class="details">
        <div class="detail-item">Состав: 70% хлопок, 30% полиэстер</div>
        <div class="detail-item">Тип: Флисированная худи с карманом</div>
        <div class="detail-item">Описание: мягкий флис внутри и плотный трикотаж снаружи</div>
      </div>
      <div class="description">
        Удобная худи с карманом-кенгуру, идеально согревает в холодную погоду. Яркий принт и комфортный капюшон.
        <ul>
          <li>Смотрите таблицу размеров в FAQ.</li>
          <li>Цвет может немного отличаться.</li>
          <li>Стирать при 30° наизнанку.</li>
        </ul>
      </div>
      <div class="weight">Вес: 350 г</div>
    </div>
  </div>

  <div class="cart" id="cart">
    <h2>Корзина (<span id="count">0</span>)</h2>
    <ul id="cart-list"></ul>
  </div>
  <button class="checkout-btn" id="checkout-btn">Оформить заказ</button>

  <script>
    // Switch images for product 2
    const images2 = ['img/kofta2.jpeg', 'img/kofta2-back.jpeg'];
    let idx2 = 0;
    const imgEl2 = document.getElementById('productImage2');
    document.getElementById('prevBtn2').addEventListener('click', e => { e.stopPropagation(); idx2 = (idx2 - 1 + images2.length) % images2.length; imgEl2.src = images2[idx2]; });
    document.getElementById('nextBtn2').addEventListener('click', e => { e.stopPropagation(); idx2 = (idx2 + 1) % images2.length; imgEl2.src = images2[idx2]; });

    // Cart logic (shared)
    const cart = [];
    const renderCart = () => {
      const list = document.getElementById('cart-list'); list.innerHTML = '';
      cart.forEach(item => { const li = document.createElement('li'); li.textContent = `${item.name} — ${item.price}₽`; list.appendChild(li); });
      document.getElementById('count').textContent = cart.length;
    };
    const updateCartUI = () => { renderCart(); document.getElementById('checkout-btn').style.display = cart.length ? 'block' : 'none'; };

    // Buy product 2
    document.getElementById('buyBtn2').addEventListener('click', () => {
      cart.push({ name: 'Кофта 2', price: 2500 }); updateCartUI();
      const tg = window.Telegram && window.Telegram.WebApp;
      if (tg) tg.sendData(JSON.stringify({ action: 'add', items: cart }));
    });
    // Checkout
    document.getElementById('checkout-btn').addEventListener('click', () => {
      const tg = window.Telegram && window.Telegram.WebApp;
      if (tg) tg.sendData(JSON.stringify({ action: 'checkout', items: cart }));
      else alert('Ваш заказ: ' + JSON.stringify(cart));
    });
    // Go to cart
    document.getElementById('cart').addEventListener('click', () => window.location.href = 'cart.html');

    updateCartUI();
  </script>
</body>
</html>
